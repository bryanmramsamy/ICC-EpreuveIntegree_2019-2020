{% load i18n registration_extra %}


<table class="table table-striped table-hover h5 text-left">
  <thead class="thead-dark">
    <tr class="d-flex">
      {% if listview_enabled %}
        <th class="col-2">
          {% include 'logo/person.html' %} {% trans 'Student' %}
        </th>
        <th class="col-2">
          {% include 'logo/degree.html' %} {% trans 'Degree' %}
        </th>

      {% else %}
        <th class="col-4">
          {% include 'logo/degree.html' %} {% trans 'Degree' %}
        </th>
      {% endif %}
      <th class="col-2">
        {% trans 'Approvement' %}
      </th>
      <th class="col-2">
        {% trans 'Payment' %}
      </th>
      <th class="col-2">
        {% include 'logo/score.html' %} {% trans 'Graduation' %}
      </th>
      <th class="col-2">
        {% trans 'See more' %} {% include 'logo/more.html' %}
      </th>
    </tr>
  </thead>
  <tbody>
    {% for degree_rr in degrees_rrs %}
      <tr class="d-flex">
        {% if listview_enabled %}
          <td class="col-2">
            <a href="{% url 'userprofile_detailview' degree_rr.student_rr.created_by.pk %}" class="text-reset">
              {{ degree_rr.student_rr.created_by.username }}
            </a>
          </td>
          <td class="col-2">
            <a href="{{ degree_rr.degree.get_absolute_url }}" class="text-reset">
              {{ degree_rr.degree.title }}
              <small class="text-muted">
                {{ degree_rr.degree.reference }}
              </small>
            </a>
          </td>

        {% else %}
          <td class="col-4">
            <a href="{{ degree_rr.degree.get_absolute_url }}" class="text-reset">
              {{ degree_rr.degree.title }}
              <small class="text-muted">
                {{ degree_rr.degree.reference }}
              </small>
            </a>
          </td>
        {% endif %}
        <td class="col-2">
          {% if degree_rr.fully_approved %}
            <span class="text-success">
              {% include 'logo/check_valid.html' %} {% trans 'Completly approved' %}
            </span>
          {% elif degree_rr.partially_approved %}
            <span class="text-warning">
              {% include 'logo/check_warning.html' %} {% trans 'Partially approved' %}
            </span>
          {% else %}
            <span class="text-danger">
              {% include 'logo/check_invalid.html' %} {% trans 'Not approved yet' %}
            </span>
          {% endif %}
        </td>
        <td class="col-2">
          {% if degree_rr.fully_payed %}
            <span class="text-success">
              {% include 'logo/check_valid.html' %} {% trans 'Completly payed' %}
            </span>
          {% elif degree_rr.partially_payed %}
            <span class="text-warning">
              {% include 'logo/check_warning.html' %} {% trans 'Partially payed' %}
            </span>
          {% else %}
            <span class="text-danger">
              {% include 'logo/check_invalid.html' %} {% trans 'Not payed yet' %}
            </span>
          {% endif %}
        </td>
        <td class="col-2">
          {% if degree_rr.graduated %}
            <span class="text-success">
              {% include 'logo/check_valid.html' %} {% trans 'Yes' %}
            </span>
          {% else %}
            <span class="text-danger">
              {% include 'logo/check_invalid.html' %} {% trans 'Not yet' %}
            </span>
          {% endif %}
        </td>
        <td class="col-2">
          <a href="{{ degree_rr.get_absolute_url }}" class="btn btn-sm btn-block btn-outline-dark">
            {% trans 'See more' %} {% include 'logo/more.html' %}
          </a>
        </td>
      </tr>
    {% empty %}
      <tr>
        <td colspan="6" class="col-12 h5 text-center text-info">
          {% include 'logo/check_info.html' %} {% trans 'No module registration found' %}
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
